I"G‹<h2 id="ê°œìš”">ê°œìš”</h2>

<p><img src="https://user-images.githubusercontent.com/66371206/199532363-edfb9a5d-b93d-4833-8c2a-c82655b23369.png" alt="image" /></p>

<blockquote>
  <p>Finite-state_machine ì°¸ê³ </p>
</blockquote>

<p>ëª¨ë“  ì£¼ì–´ì§„ ìˆœê°„ì— í”„ë¡œê·¸ë¨ì´ ì†í•´ ìˆì„ ìˆ˜ ìˆëŠ” ìƒíƒœë“¤ì˜ ìˆ˜ëŠ” ìœ í•œí•˜ë©°, ì–´ë–¤ ê³ ìœ í•œ ìƒíƒœ ë‚´ì—ì„œë“  í”„ë¡œê·¸ë¨ì€ ë‹¤ë¥´ê²Œ í–‰ë™í•˜ê³  í•œ ìƒíƒœì—ì„œ ë‹¤ë¥¸ ìƒíƒœë¡œ ì¦‰ì‹œ ì „í™˜ë  ìˆ˜ ìˆë‹¤. í˜„ì¬ì˜ ìƒíƒœì— ë”°ë¼ í”„ë¡œê·¸ë¨ì€ íŠ¹ì • ë‹¤ë¥¸ ìƒíƒœë¡œ ì „í™˜ë˜ê±°ë‚˜ ì „í™˜ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë©°, ì´ëŸ¬í•œ ì „í™˜ ê·œì¹™ë“¤ì„ ì „í™˜ë“¤(transitions)â€‹ì´ë¼ê³ ë„ í•˜ê³ , ì´ëŸ¬í•œ ê·œì¹™ë“¤ ë˜í•œ ìœ í•œí•˜ê³  ë¯¸ë¦¬ ê²°ì •ë˜ì–´ ìˆë‹¤.</p>

<p><img src="https://user-images.githubusercontent.com/66371206/199532122-689635dd-d965-4eda-9650-ad9e25d698ef.png" alt="image" /></p>

<p>ë‹¨ìˆœí•œ ìƒíƒœ ë¨¸ì‹ ì˜ ë‹¨ì ì€ ì½”ë“œë¥¼ ë³´ë©´ ë°”ë¡œ ì´í•´í•  ìˆ˜ ìˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Document</span> <span class="ow">is</span>
    <span class="n">field</span> <span class="n">state</span><span class="p">:</span> <span class="n">string</span>
    <span class="o">//</span> <span class="err">â€¦</span>
    <span class="n">method</span> <span class="nf">publish</span><span class="p">()</span> <span class="ow">is</span>
        <span class="nf">switch </span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
            <span class="sh">"</span><span class="s">draft</span><span class="sh">"</span><span class="p">:</span>
                <span class="n">state</span> <span class="o">=</span> <span class="sh">"</span><span class="s">moderation</span><span class="sh">"</span>
                <span class="k">break</span>
            <span class="sh">"</span><span class="s">moderation</span><span class="sh">"</span><span class="p">:</span>
                <span class="nf">if </span><span class="p">(</span><span class="n">currentUser</span><span class="p">.</span><span class="n">role</span> <span class="o">==</span> <span class="sh">"</span><span class="s">admin</span><span class="sh">"</span><span class="p">)</span>
                    <span class="n">state</span> <span class="o">=</span> <span class="sh">"</span><span class="s">published</span><span class="sh">"</span>
                <span class="k">break</span>
            <span class="sh">"</span><span class="s">published</span><span class="sh">"</span><span class="p">:</span>
                <span class="o">//</span> <span class="n">Do</span> <span class="n">nothing</span><span class="p">.</span>
                <span class="k">break</span>
    <span class="o">//</span> <span class="err">â€¦</span>
</code></pre></div></div>

<p>ì¼ë°˜ì ìœ¼ë¡œ ê°ì²´ì˜ ìƒíƒœì— ë”°ë¼ ì ì ˆí•œ í–‰ë™ë“¤ì„ ì„ íƒí•˜ëŠ” ë§ì€ ì¡°ê±´ë¬¸â€‹(if ë˜ëŠ” switch)â€‹ìœ¼ë¡œ êµ¬í˜„ë˜ë©°, <code class="language-plaintext highlighter-rouge">Document</code> í´ë˜ìŠ¤ì— ìƒíƒœë“¤ê³¼ ìƒíƒœì— ì˜ì¡´í•˜ëŠ” í–‰ë™ë“¤ì„ ì¶”ê°€í• ìˆ˜ë¡ ë¶„ëª…í•´ì§€ê²Œ ëœë‹¤. ê·¸ë¦¬ê³  í”„ë¡œì íŠ¸ì˜ ë¶€í”¼ê°€ ì»¤ì§ˆìˆ˜ë¡, transitionì´ ë°œìƒí–ˆì„ ë•Œ, ë©”ì†Œë“œì˜ ìƒíƒœ ì¡°ê±´ë“¤ì´ ë³€ê²½ë˜ì–´ ê´€ë¦¬ê°€ í˜ë“¤ì–´ì§€ê²Œ ëœë‹¤.</p>

<h2 id="ì˜ˆì œ">ì˜ˆì œ</h2>

<h3 id="ì¡°ê±´">ì¡°ê±´</h3>

<ul>
  <li>í”„ë¡œê·¸ë¨ìƒì˜ 1ì´ˆë¥¼ í˜„ì‹¤ ì„¸ê³„ì˜ 1ì‹œê°„ìœ¼ë¡œ ê°€ì •</li>
  <li>ê¸ˆê³ ëŠ” 1ê°œê°€ ìˆìŒ</li>
  <li>ê¸ˆê³ ëŠ” ê²½ë¹„ì„¼í„°ì™€ ì ‘ì†ë˜ì–´ ìˆìŒ</li>
  <li>ê¸ˆê³ ì—ëŠ” ë¹„ìƒë²¨ê³¼ ì¼ë°˜í†µí™”ìš© ì „í™”ê°€ ì ‘ì†ë˜ì–´ ìˆìŒ</li>
  <li>ê¸ˆê³ ì—ëŠ” ì‹œê³„ê°€ ì„¤ì¹˜ë˜ì–´ ìˆì–´ í˜„ì¬ì˜ ì‹œê°„ì„ ê°ì‹œí•˜ê³  ìˆìŒ</li>
  <li>ì£¼ê°„ì€ 09:00~16:59, ì•¼ê°„ì€ 17:00~23:59 ë° 0:00~8:59</li>
  <li>ê¸ˆê³ ëŠ” ì£¼ê°„ì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ</li>
  <li>ì£¼ê°„ì— ê¸ˆê³ ë¥¼ ì‚¬ìš©í•˜ë©´ ê²½ë¹„ì„¼í„°ì— ì‚¬ìš©ê¸°ë¡ì´ ë‚¨ìŒ</li>
  <li>ì•¼ê°„ì— ê¸ˆê³ ë¥¼ ì‚¬ìš©í•˜ë©´ ê²½ë¹„ì„¼í„°ì— ë¹„ìƒì‚¬íƒœë¡œ í†µë³´</li>
  <li>ë¹„ìƒë²¨ì€ ì–¸ì œë‚˜ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ</li>
  <li>ë¹„ìƒë²¨ì„ ì‚¬ìš©í•˜ë©´ ê²½ë¹„ì„¼í„°ì— ë¹„ìƒë²¨ í†µë³´</li>
  <li>ì¼ë°˜í†µí™”ìš©ì˜ ì „í™”ëŠ” ì–¸ì œë‚˜ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ(ì•¼ê°„ì€ ë…¹ìŒë§Œ ê°€ëŠ¥)</li>
  <li>ì£¼ê°„ì— ì „í™”ë¥¼ ì‚¬ìš©í•˜ë©´ ê²½ë¹„ì„¼í„°ê°€ í˜¸ì¶œ</li>
  <li>ì•¼ê°„ì— ì „í™”ë¥¼ ì‚¬ìš©í•˜ë©´ ê²½ë¹„ì„¼í„°ì˜ ìë™ì‘ë‹µê¸°ê°€ í˜¸ì¶œ</li>
</ul>

<blockquote>
  <p>ì˜ˆì œ ì‹¤í–‰í™”ë©´
<img src="https://user-images.githubusercontent.com/66371206/199536253-e2de98e3-b074-460f-b67f-01a008980ad8.png" alt="image" /></p>
</blockquote>

<p><img width="585" alt="image" src="https://user-images.githubusercontent.com/66371206/199536792-04b4b454-4c44-4187-9d79-02a2726e8ca2.png" /></p>

<p><img width="760" alt="image" src="https://user-images.githubusercontent.com/66371206/199537669-aef4aab4-d7c6-4da4-928a-9d43fb85f9fd.png" /></p>

<h3 id="state">State</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// state.java</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">State</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">doClock</span><span class="o">(</span><span class="nc">Context</span> <span class="n">context</span><span class="o">,</span> <span class="kt">int</span> <span class="n">hour</span><span class="o">);</span>
    <span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">doUse</span><span class="o">(</span><span class="nc">Context</span> <span class="n">context</span><span class="o">);</span>
    <span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">doAlarm</span><span class="o">(</span><span class="nc">Context</span> <span class="n">context</span><span class="o">);</span>
    <span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">doPhone</span><span class="o">(</span><span class="nc">Context</span> <span class="n">context</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="daystate">DayState</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// DayState.java</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DayState</span> <span class="kd">implements</span> <span class="nc">State</span><span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">DayState</span> <span class="n">singletone</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DayState</span><span class="o">();</span>

    <span class="kd">public</span> <span class="nf">DayState</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">State</span> <span class="nf">getInstance</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">singletone</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="n">singletone</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DayState</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">singletone</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">doClock</span><span class="o">(</span><span class="nc">Context</span> <span class="n">context</span><span class="o">,</span> <span class="kt">int</span> <span class="n">hour</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">hour</span> <span class="o">&lt;</span> <span class="mi">9</span> <span class="o">||</span> <span class="mi">17</span> <span class="o">&lt;=</span> <span class="n">hour</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">context</span><span class="o">.</span><span class="na">changeState</span><span class="o">(</span><span class="nc">NightState</span><span class="o">.</span><span class="na">getInstance</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">doUse</span><span class="o">(</span><span class="nc">Context</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">context</span><span class="o">.</span><span class="na">recordLog</span><span class="o">(</span><span class="s">"ê¸ˆê³ ì‚¬ìš©(ì£¼ê°„)"</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">doAlarm</span><span class="o">(</span><span class="nc">Context</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">context</span><span class="o">.</span><span class="na">callSecurityCenter</span><span class="o">(</span><span class="s">"ë¹„ìƒë²¨(ì£¼ê°„)"</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">doPhone</span><span class="o">(</span><span class="nc">Context</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">context</span><span class="o">.</span><span class="na">callSecurityCenter</span><span class="o">(</span><span class="s">"ì¼ë°˜í†µí™”(ì£¼ê°„)"</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"[ì£¼ê°„]"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="nightstate">NightState</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// NightState.java</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">NightState</span> <span class="kd">implements</span> <span class="nc">State</span><span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">NightState</span> <span class="n">singletone</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">NightState</span><span class="o">();</span>

    <span class="kd">public</span> <span class="nf">NightState</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">State</span> <span class="nf">getInstance</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">singletone</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span><span class="n">singletone</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">NightState</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">singletone</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">doClock</span><span class="o">(</span><span class="nc">Context</span> <span class="n">context</span><span class="o">,</span> <span class="kt">int</span> <span class="n">hour</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="mi">9</span> <span class="o">&lt;=</span> <span class="n">hour</span> <span class="o">&amp;&amp;</span> <span class="n">hour</span> <span class="o">&lt;</span> <span class="mi">17</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">context</span><span class="o">.</span><span class="na">changeState</span><span class="o">(</span><span class="nc">DayState</span><span class="o">.</span><span class="na">getInstance</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">doUse</span><span class="o">(</span><span class="nc">Context</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">context</span><span class="o">.</span><span class="na">recordLog</span><span class="o">(</span><span class="s">"ë¹„ìƒ: ì•¼ê°„ê¸ˆê³  ì‚¬ìš©!"</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">doAlarm</span><span class="o">(</span><span class="nc">Context</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">context</span><span class="o">.</span><span class="na">callSecurityCenter</span><span class="o">(</span><span class="s">"ë¹„ìƒë²¨(ì•¼ê°„)"</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">doPhone</span><span class="o">(</span><span class="nc">Context</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">context</span><span class="o">.</span><span class="na">callSecurityCenter</span><span class="o">(</span><span class="s">"ì•¼ê°„í†µí™” ë…¹ìŒ"</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"[ì•¼ê°„]"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="context">Context</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Context.java</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Context</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">setClock</span><span class="o">(</span><span class="kt">int</span> <span class="n">hour</span><span class="o">);</span>
    <span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">changeState</span><span class="o">(</span><span class="nc">State</span> <span class="n">state</span><span class="o">);</span>
    <span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">callSecurityCenter</span><span class="o">(</span><span class="nc">String</span> <span class="n">msg</span><span class="o">);</span>
    <span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">recordLog</span><span class="o">(</span><span class="nc">String</span> <span class="n">msg</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="safeframe">SafeFrame</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// SafeFrame.java</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.ActionEvent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.ActionListener</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SafeFrame</span> <span class="kd">extends</span> <span class="nc">Frame</span> <span class="kd">implements</span> <span class="nc">ActionListener</span><span class="o">,</span> <span class="nc">Context</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">TextField</span> <span class="n">textClock</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TextField</span><span class="o">(</span><span class="mi">60</span><span class="o">);</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">TextArea</span> <span class="n">textScreen</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TextArea</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="mi">60</span><span class="o">);</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">Button</span> <span class="n">buttonUse</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Button</span><span class="o">(</span><span class="s">"ê¸ˆê³ ì‚¬ìš©"</span><span class="o">);</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">Button</span> <span class="n">buttonAlarm</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Button</span><span class="o">(</span><span class="s">"ë¹„ìƒë²¨"</span><span class="o">);</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">Button</span> <span class="n">buttonPhone</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Button</span><span class="o">(</span><span class="s">"ì¼ë°˜í†µí™”"</span><span class="o">);</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">Button</span> <span class="n">buttonExit</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Button</span><span class="o">(</span><span class="s">"ì¢…ë£Œ"</span><span class="o">);</span>

    <span class="kd">private</span> <span class="nc">State</span> <span class="n">state</span> <span class="o">=</span> <span class="nc">DayState</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>

    <span class="kd">public</span> <span class="nf">SafeFrame</span><span class="o">(</span><span class="nc">String</span> <span class="n">title</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">HeadlessException</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">title</span><span class="o">);</span>
        <span class="n">setBackground</span><span class="o">(</span><span class="nc">Color</span><span class="o">.</span><span class="na">lightGray</span><span class="o">);</span>
        <span class="n">setLayout</span><span class="o">(</span><span class="k">new</span> <span class="nc">BorderLayout</span><span class="o">());</span>
        <span class="n">add</span><span class="o">(</span><span class="n">textClock</span><span class="o">,</span> <span class="nc">BorderLayout</span><span class="o">.</span><span class="na">NORTH</span><span class="o">);</span>
        <span class="n">textClock</span><span class="o">.</span><span class="na">setEditable</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
        <span class="n">add</span><span class="o">(</span><span class="n">textScreen</span><span class="o">,</span> <span class="nc">BorderLayout</span><span class="o">.</span><span class="na">CENTER</span><span class="o">);</span>
        <span class="n">textScreen</span><span class="o">.</span><span class="na">setEditable</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>

        <span class="nc">Panel</span> <span class="n">panel</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Panel</span><span class="o">();</span>
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">buttonUse</span><span class="o">);</span>
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">buttonAlarm</span><span class="o">);</span>
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">buttonPhone</span><span class="o">);</span>
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">buttonExit</span><span class="o">);</span>
        <span class="n">add</span><span class="o">(</span><span class="n">panel</span><span class="o">,</span> <span class="nc">BorderLayout</span><span class="o">.</span><span class="na">SOUTH</span><span class="o">);</span>

        <span class="n">pack</span><span class="o">();</span>
        <span class="n">show</span><span class="o">();</span>

        <span class="n">buttonUse</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">buttonAlarm</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">buttonPhone</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">buttonExit</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="c1">//Event Listener Handler</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="nc">ActionEvent</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">event</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">event</span><span class="o">.</span><span class="na">getSource</span><span class="o">()</span> <span class="o">==</span> <span class="n">buttonUse</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">state</span><span class="o">.</span><span class="na">doUse</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">event</span><span class="o">.</span><span class="na">getSource</span><span class="o">()</span> <span class="o">==</span> <span class="n">buttonAlarm</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">state</span><span class="o">.</span><span class="na">doAlarm</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">event</span><span class="o">.</span><span class="na">getSource</span><span class="o">()</span> <span class="o">==</span> <span class="n">buttonPhone</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">state</span><span class="o">.</span><span class="na">doPhone</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">event</span><span class="o">.</span><span class="na">getSource</span><span class="o">()</span> <span class="o">==</span> <span class="n">buttonExit</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">exit</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"?"</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setClock</span><span class="o">(</span><span class="kt">int</span> <span class="n">hour</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">clockstring</span> <span class="o">=</span> <span class="s">"í˜„ì¬ ì‹œê°„ì€"</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">hour</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">clockstring</span> <span class="o">+=</span> <span class="s">"0"</span> <span class="o">+</span> <span class="n">hour</span> <span class="o">+</span> <span class="s">":00"</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="n">clockstring</span> <span class="o">+=</span> <span class="n">hour</span> <span class="o">+</span> <span class="s">":00"</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">clockstring</span><span class="o">);</span>
        <span class="n">textClock</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">clockstring</span><span class="o">);</span>
        <span class="n">state</span><span class="o">.</span><span class="na">doClock</span><span class="o">(</span><span class="k">this</span><span class="o">,</span><span class="n">hour</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="c1">//ìƒíƒœì „í™˜</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">changeState</span><span class="o">(</span><span class="nc">State</span> <span class="n">state</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">state</span> <span class="o">+</span> <span class="s">"ì—ì„œ"</span> <span class="o">+</span> <span class="n">state</span> <span class="o">+</span> <span class="s">"ë¡œ ìƒíƒœê°€ ë³€í™”í–ˆìŠµë‹ˆë‹¤."</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">state</span> <span class="o">=</span> <span class="n">state</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="c1">//ê²½ë¹„ì„¼í„°ì˜ í˜¸ì¶œ</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">callSecurityCenter</span><span class="o">(</span><span class="nc">String</span> <span class="n">msg</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">textScreen</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"call! "</span> <span class="o">+</span> <span class="n">msg</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="c1">//ê²½ë¹„ì„¼í„°ì˜ ê¸°ë¡</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">recordLog</span><span class="o">(</span><span class="nc">String</span> <span class="n">msg</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">textScreen</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"record ... "</span> <span class="o">+</span> <span class="n">msg</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="main">Main</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Main.java</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">SafeFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SafeFrame</span><span class="o">(</span><span class="s">"State Sample"</span><span class="o">);</span>
        <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">hour</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">hour</span> <span class="o">&lt;</span> <span class="mi">24</span><span class="o">;</span> <span class="n">hour</span><span class="o">++)</span> <span class="o">{</span>
                <span class="n">frame</span><span class="o">.</span><span class="na">setClock</span><span class="o">(</span><span class="n">hour</span><span class="o">);</span>
                <span class="k">try</span><span class="o">{</span>
                    <span class="nc">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
                <span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">){</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="ë“±ì¥ì¸ë¬¼">ë“±ì¥ì¸ë¬¼</h2>

<p><img src="https://user-images.githubusercontent.com/66371206/199541328-2a641f2e-745a-4abf-b8ff-65473c7035e4.png" alt="image" /></p>

<h2 id="point">Point</h2>

<h3 id="strategy-patternê³¼ì˜-ì°¨ì´">Strategy Patternê³¼ì˜ ì°¨ì´</h3>

<p>ì´ êµ¬ì¡°ëŠ” ì „ëµ íŒ¨í„´ê³¼ ë¹„ìŠ·í•´ ë³´ì´ì§€ë§Œ í•œ ê°€ì§€ ì¤‘ìš”í•œ ì°¨ì´ì ì´ ìˆë‹¤. ìƒíƒœ íŒ¨í„´ì—ì„œì˜ íŠ¹ì • ìƒíƒœë“¤ì€ ì„œë¡œë¥¼ ì¸ì‹í•˜ê³  í•œ ìƒíƒœì—ì„œ ë‹¤ë¥¸ ìƒíƒœë¡œ ì „í™˜ì„ ì‹œì‘í•  ìˆ˜ ìˆì§€ë§Œ ì „ëµë“¤ì€ ê±°ì˜ ëŒ€ë¶€ë¶„ ì„œë¡œì— ëŒ€í•´ ì•Œì§€ ëª»í•œë‹¤.</p>

<h3 id="ë¶„í• ì •ë³µ">ë¶„í• ì •ë³µ</h3>

<p>ë³µì¡í•˜ê³  ê·œëª¨ê°€ í° ë¬¸ì œ í˜¹ì€ í”„ë¡œê·¸ë¨ì€ ê·¸ëŒ€ë¡œ í•´ê²°í•˜ë ¤í•˜ê¸°ë³´ë‹¨, ìš°ì„  ì‘ì€ ë¬¸ì œë¡œ ë‚˜ëˆ„ê³  ë˜ ë‚˜ëˆ ì„œ í•˜ë‚˜í•˜ë‚˜ì˜ ëª¨ë“ˆë“¤ì´ ì‰½ê²Œ í•´ê²°ê°€ëŠ¥í•œ ìˆ˜ì¤€ê¹Œì§€ ë‚˜ëˆ  í•´ê²°í•´ì•¼ í•œë‹¤.
State Patternì—ì„œëŠ” ê°ê°ì˜ <code class="language-plaintext highlighter-rouge">ìƒíƒœ</code>ë¥¼ ê°ê°ì˜ í´ë˜ìŠ¤ë¡œ í‘œí˜„í•´ ë¬¸ì œë¥¼ ë¶„í• í–ˆë‹¤. ì¡°ê±´ê³¼ ê·œëª¨ê°€ ì»¤ì§ˆìˆ˜ë¡ ì¡°ê±´ì€ ë§ì•„ì§€ê³  ë¶„ê¸°ë¬¸ì€ ë§ì•„ì§„ë‹¤. í•˜ì§€ë§Œ ì´ë²ˆì²˜ëŸ¼ State Patternì„ ì‚¬ìš©í•˜ë©´ ê°ê°ì˜ â€˜ìƒíƒœâ€™ë¥¼ í´ë˜ìŠ¤ê³  í‘œí˜„í•´ ë³µì¡í•œ í”„ë¡œê·¸ë¨ì„ ë¶„í• í•˜ì—¬ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.</p>

<h3 id="ìƒíƒœì˜ì¡´">ìƒíƒœì˜ì¡´</h3>

<p>SafeFrame í´ë˜ìŠ¤ì˜ setClockë©”ì†Œë“œëŠ” Mainí´ë˜ìŠ¤ë¡œë¶€í„° ì‹œê°„ì´ ë³€ê²½ë  ë•Œ(ë°˜ë³µë¬¸ì˜ ìˆœíšŒ)ë§ˆë‹¤ í˜¸ì¶œë˜ê³  ìˆë‹¤. ê·¸ë¦¬ê³  ì´ ë©”ì†Œë“œëŠ” ì‹œê°„ì„ ì¸ìê°’ìœ¼ë¡œë°›ì•„ ì¶œë ¥ í›„ state.doClock(this,hour)ìœ¼ë¡œ ì±…ì„ì„ ìœ„ì„í•˜ê³  ìˆë‹¤. ì¦‰, ì‹œê°„ì˜ ì„¤ì •ì„ â€˜í˜„ì¬ì˜ ìƒíƒœì— ì˜ì¡´í•œ ì²˜ë¦¬â€™ë¡œ ì·¨ê¸‰í•˜ê³  ìˆë‹¤ëŠ” ë§ì…ë‹ˆë‹¤. ì¦‰ stateëŠ” í•­ìƒ ê°™ì€ê°’ì´ ì•„ë‹Œ ì‹œê°„ì´ ë³€ê²½ë˜ì„œ ê¸°ì¤€ì„ ì¶©ì¡±í•  ë•Œë§ˆë‹¤ ì£¼ê°„ê³¼ ì•¼ê°„ ìƒíƒœí´ë˜ìŠ¤ë¡œ ë³€ê²½í•˜ê¸° ë•Œë¬¸.
ì´ì²˜ëŸ¼ State Patternì—ì„œëŠ” â€˜ìƒíƒœì— ì˜ì¡´í•œ ì²˜ë¦¬â€™ë¥¼ í”„ë¡œê·¸ë¨ì—ì„œ í‘œí˜„í•˜ëŠ”ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>

<ul>
  <li>ì¶”ìƒ ë©”ì†Œë“œë¡œ ì„ ì–¸í›„ ì¸í„°í˜ì´ìŠ¤ ëª…ì„¸(API)</li>
  <li>êµ¬í˜„ ë©”ì†Œë“œë¡œ êµ¬í˜„ í›„ ê°ê°ì˜ í´ë˜ìŠ¤ë¡œ í•œë‹¤.</li>
</ul>

<h3 id="ìƒíƒœì „í™˜ì˜-ê´€ë¦¬">ìƒíƒœì „í™˜ì˜ ê´€ë¦¬</h3>

<p>State Patternì—ì„œ ìƒíƒœì „í™˜ì„ ì–´ë””ì„œ ê´€ë¦¬í•˜ëŠ”ì§€ì— ëŒ€í•´ì„œëŠ” ê³ ë ¤í•´ë´ì•¼ í•  ë¶€ë¶„ì´ë‹¤.
ì˜ˆì œì—ì„œëŠ” Contextì—­í• ì˜ SafeFrame í´ë˜ìŠ¤ì—ì„œ ìƒíƒœì „í™˜ ë©”ì†Œë“œ(changeState)ë¥¼ êµ¬í˜„í–ˆë‹¤. ê·¸ë¦¬ê³  ì´ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ë¶€ë¶„ì€ ConcreteStateì—­í• ì¸ DayStateë‚˜ NightStateí´ë˜ìŠ¤ì´ë‹¤. ë‹¤ì‹œë§í•˜ë©´ ì˜ˆì œì—ì„œëŠ” â€˜ìƒíƒœì „í™˜â€™ì„ â€˜ìƒíƒœì— ì˜ì¡´í•œ ë™ì‘â€™ìœ¼ë¡œ ê°„ì£¼í•˜ê³  ìˆë‹¤. ì´ ë°©ë²•ì€ ì¥ì ê³¼ ë‹¨ì ì´ ìˆë‹¤.
ì¥ì ì€ ìƒíƒœì „í™˜ì˜ ì‹œê¸°ë¥¼ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ ë‚´ì—ì„œ ê°€ì§€ê³  ìˆë‹¤ëŠ” ì .</p>

<blockquote>
  <p>DayState í´ë˜ìŠ¤ê°€ ìƒíƒœì „í™˜ë˜ëŠ” ì‹œê¸°ëŠ” DayState í´ë˜ìŠ¤ ì½”ë“œë¥¼ ë³´ë©´ ëœë‹¤.</p>
</blockquote>

<p>ë‹¨ì ì€ í•˜ë‚˜ì˜ ConcreteStateì—­í• ì´ ë‹¤ë¥¸ ConcreteStateì—­í• ì„ ì•Œì•„ì•¼ í•œë‹¤ëŠ” ì ì…ë‹ˆë‹¤.</p>

<blockquote>
  <p>doClockë©”ì†Œë“œ context.changeState(NightState.getInstance());</p>
</blockquote>

<p>ì´ê²ƒì˜ ë¬¸ì œëŠ” í´ë˜ìŠ¤ ì‚¬ì´ì˜ ì˜ì¡´ê´€ê³„ë¥¼ ê¹Šê²Œí•œë‹¤ëŠ” ì ì´ë‹¤.<br />
ê·¸ëŸ¼, ëª¨ë“  ìƒíƒœì „í™˜ì„ Context ì—­í• ì˜ SafeFrameí´ë˜ìŠ¤ì— ë§¡ê¸¸ìˆ˜ë„ ìˆëŠ”ë° ì´ ê²½ìš° ConcreteStateì—­í• ì˜ ë…ë¦½ì„±ì´ ë†’ì•„ì§€ì§€ë§Œ Contextê°€ ëª¨ë“  ConcreteStateì—­í• ì„ ì•Œì•„ì•¼í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•œë‹¤. í•´ê²°ì±…ìœ¼ë¡œëŠ” Mediator Patternì„ ì“°ê±°ë‚˜ í˜¹ì€ State PatternëŒ€ì‹  ìƒíƒœì˜ í…Œì´ë¸”(í‘œ)ë¥¼ ì‚¬ìš©í•´ ì„¤ê³„í•˜ëŠ” ë°©ì‹ì´ ìˆë‹¤.</p>

<h3 id="ìƒíƒœì¶”ê°€-is-easy">ìƒíƒœì¶”ê°€ is easy</h3>

<p>State ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ConcreteState í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ êµ¬í˜„í•˜ë©´ë˜ê¸°ì— ìƒíƒœì¶”ê°€ëŠ” ì–´ë µì§€ ì•Šë‹¤.
ë‹¤ë§Œ, ìƒíƒœì „í™˜ì€ ë‹¤ë¥¸ ConcreteState ì—­í• ê³¼ ì ‘ì ì´ ë˜ê¸°ì— ì£¼ì˜í•´ì•¼ í•  í•„ìš”ëŠ” ìˆë‹¤.
ê·¸ë¦¬ê³  ì™„ì„±ëœ State Patternì— ìƒˆë¡œìš´ â€˜ìƒíƒœì˜ì¡´ì˜ ì²˜ë¦¬â€™ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì€ ê³¤ë€í•˜ë‹¤. ì´ ë§ì€ State ì—­í• ì´ ì¸í„°í˜ì´ìŠ¤ì— ë©”ì†Œë“œë¥¼ ì¶”ê°€í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•˜ë©° ì´ë¥¼ êµ¬í˜„í•˜ëŠ” ëª¨ë“  ConcreteStateì—­í• ì— êµ¬í˜„ì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì´ë‹¤.</p>

<p>ì¶œì²˜ : Javaì–¸ì–´ë¡œ ë°°ìš°ëŠ” ë””ìì¸ íŒ¨í„´ ì…ë¬¸</p>
:ET